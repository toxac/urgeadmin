create table public.user_progress (
  created_at timestamp with time zone not null default now(),
  user_id uuid not null,
  completed_at timestamp with time zone null,
  content_meta_id uuid null default gen_random_uuid (),
  feedback_rating smallint null,
  feedback_text text null,
  id bigint generated by default as identity not null,
  content_type text null,
  form_completed boolean null,
  has_form boolean null,
  status text null default '"not_started"'::text,
  content_title text null,
  content_slug text null,
  updated_at timestamp with time zone null default now(),
  constraint user_progress_pkey primary key (id),
  constraint user_progress_user_content_unique unique (user_id, content_meta_id),
  constraint user_progress_content_meta_id_fkey foreign KEY (content_meta_id) references content_meta (id),
  constraint user_progress_user_id_fkey foreign KEY (user_id) references auth.users (id)
) TABLESPACE pg_default;